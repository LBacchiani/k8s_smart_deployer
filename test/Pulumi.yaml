name: my-k8s-app
runtime: yaml
resources:
  message-analyzer-type-69894e1e-f088-43d4-bd96-3003f30ff44b:
    name: message-analyzer-type-69894e1e-f088-43d4-bd96-3003f30ff44b
    type: kubernetes:core/v1:Pod
    properties:
      apiVersion: v1
      kind: Pod
      metadata:
        name: message-analyzer-type
        labels:
          type: message-analyzer-type
      spec:
        nodeName: k3d-k3s-default-agent-0
        containers:
        - name: message-analyzer
          image: giovaz94/mail-pipeline-general
          imagePullPolicy: IfNotPresent
          ports:
          - containerPort: 80
          resources:
            requests:
              cpu: 10m
              memory: 10M
          env:
          - name: MCL
            value: '300'
          - name: REDIS_HOST
            value: redis-service
          - name: SERVICE_NAME
            value: message-analyzer
          - name: PORT
            value: '80'
          - name: MAX_SIZE
            value: '800'
          - name: MAX_CONNECTIONS
            value: '70'
          - name: PIPELINE_COUNT
            value: '1'
    options: {}
  message-analyzer-service-type-b8a74944-f342-4aa6-8323-62dd73b4acdb:
    name: message-analyzer-service-type-b8a74944-f342-4aa6-8323-62dd73b4acdb
    type: kubernetes:core/v1:Service
    properties:
      apiVersion: v1
      kind: Service
      metadata:
        name: message-analyzer-service-type
        labels:
          type: message-analyzer-service-type
      spec:
        selector:
          type: message-analyzer-type
        ports:
        - protocol: TCP
          port: 80
          targetPort: 80
    options: {}
  link-analyzer-type-e1d2168c-2bee-4996-8ac2-7bd50cf28127:
    name: link-analyzer-type-e1d2168c-2bee-4996-8ac2-7bd50cf28127
    type: kubernetes:core/v1:Pod
    properties:
      apiVersion: v1
      kind: Pod
      metadata:
        name: link-analyzer-type
        labels:
          type: link-analyzer-type
      spec:
        nodeName: k3d-k3s-default-agent-0
        containers:
        - name: link-analyzer
          image: giovaz94/mail-pipeline-general
          imagePullPolicy: IfNotPresent
          ports:
          - containerPort: 80
          resources:
            requests:
              cpu: 10m
              memory: 10M
          env:
          - name: MCL
            value: '0'
          - name: REDIS_HOST
            value: redis-service
          - name: SERVICE_NAME
            value: link-analyzer
          - name: PORT
            value: '80'
          - name: MAX_SIZE
            value: '800'
          - name: MAX_CONNECTIONS
            value: '70'
          - name: PIPELINE_COUNT
            value: '1'
          - name: PORT_MESSAGE_ANALYZER_SERVICE
            value: message-analyzer-service-type-b8a74944-f342-4aa6-8323-62dd73b4acdb
    options:
      dependsOn:
      - ${message-analyzer-service-type-b8a74944-f342-4aa6-8323-62dd73b4acdb}
  header-analyzer-type-3e62c5aa-e38a-4045-9b09-b90853874666:
    name: header-analyzer-type-3e62c5aa-e38a-4045-9b09-b90853874666
    type: kubernetes:core/v1:Pod
    properties:
      apiVersion: v1
      kind: Pod
      metadata:
        name: header-analyzer-type
        labels:
          type: header-analyzer-type
      spec:
        nodeName: k3d-k3s-default-agent-0
        containers:
        - name: header-analyzer
          image: giovaz94/mail-pipeline-general
          imagePullPolicy: IfNotPresent
          ports:
          - containerPort: 80
          resources:
            requests:
              cpu: 10m
              memory: 10M
          env:
          - name: MCL
            value: '0'
          - name: REDIS_HOST
            value: redis-service
          - name: SERVICE_NAME
            value: header-analyzer
          - name: PORT
            value: '80'
          - name: MAX_SIZE
            value: '800'
          - name: MAX_CONNECTIONS
            value: '70'
          - name: PIPELINE_COUNT
            value: '1'
          - name: PORT_MESSAGE_ANALYZER_SERVICE
            value: message-analyzer-service-type-b8a74944-f342-4aa6-8323-62dd73b4acdb
    options:
      dependsOn:
      - ${message-analyzer-service-type-b8a74944-f342-4aa6-8323-62dd73b4acdb}
  text-analyzer-type-2eafda81-9fda-4c7e-b256-b20ab597bb58:
    name: text-analyzer-type-2eafda81-9fda-4c7e-b256-b20ab597bb58
    type: kubernetes:core/v1:Pod
    properties:
      apiVersion: v1
      kind: Pod
      metadata:
        name: text-analyzer-type
        labels:
          type: text-analyzer-type
      spec:
        nodeName: k3d-k3s-default-agent-0
        containers:
        - name: text-analyzer
          image: giovaz94/mail-pipeline-general
          imagePullPolicy: IfNotPresent
          ports:
          - containerPort: 80
          resources:
            requests:
              cpu: 10m
              memory: 10M
          env:
          - name: MCL
            value: '0'
          - name: REDIS_HOST
            value: redis-service
          - name: SERVICE_NAME
            value: text-analyzer
          - name: PORT
            value: '80'
          - name: MAX_SIZE
            value: '800'
          - name: MAX_CONNECTIONS
            value: '70'
          - name: PIPELINE_COUNT
            value: '1'
          - name: PORT_MESSAGE_ANALYZER_SERVICE
            value: message-analyzer-service-type-b8a74944-f342-4aa6-8323-62dd73b4acdb
    options:
      dependsOn:
      - ${message-analyzer-service-type-b8a74944-f342-4aa6-8323-62dd73b4acdb}
  image-analyzer-type-2d753607-4ef8-4361-9405-bc5d6ccc41ca:
    name: image-analyzer-type-2d753607-4ef8-4361-9405-bc5d6ccc41ca
    type: kubernetes:core/v1:Pod
    properties:
      apiVersion: v1
      kind: Pod
      metadata:
        name: image-analyzer-type
        labels:
          type: image-analyzer-type
      spec:
        nodeName: k3d-k3s-default-agent-0
        containers:
        - name: image-analyzer
          image: giovaz94/mail-pipeline-general
          imagePullPolicy: IfNotPresent
          ports:
          - containerPort: 80
          resources:
            requests:
              cpu: 10m
              memory: 10M
          env:
          - name: MCL
            value: '231'
          - name: REDIS_HOST
            value: redis-service
          - name: SERVICE_NAME
            value: image-analyzer
          - name: PORT
            value: '80'
          - name: MAX_SIZE
            value: '800'
          - name: MAX_CONNECTIONS
            value: '70'
          - name: PIPELINE_COUNT
            value: '1'
          - name: PORT_MESSAGE_ANALYZER_SERVICE
            value: message-analyzer-service-type-b8a74944-f342-4aa6-8323-62dd73b4acdb
    options:
      dependsOn:
      - ${message-analyzer-service-type-b8a74944-f342-4aa6-8323-62dd73b4acdb}
  image-analyzer-service-type-4f5dc8e1-7684-41b2-8841-95e2986e4e7c:
    name: image-analyzer-service-type-4f5dc8e1-7684-41b2-8841-95e2986e4e7c
    type: kubernetes:core/v1:Service
    properties:
      apiVersion: v1
      kind: Service
      metadata:
        name: image-analyzer-service-type
        labels:
          type: image-analyzer-service-type
      spec:
        selector:
          type: image-analyzer-type
        ports:
        - protocol: TCP
          port: 80
          targetPort: 80
    options: {}
  link-analyzer-service-type-29025d8b-3137-4927-a042-4b2a5cd391e5:
    name: link-analyzer-service-type-29025d8b-3137-4927-a042-4b2a5cd391e5
    type: kubernetes:core/v1:Service
    properties:
      apiVersion: v1
      kind: Service
      metadata:
        name: link-analyzer-service-type
        labels:
          type: link-analyzer-service-type
      spec:
        selector:
          type: link-analyzer-type
        ports:
        - protocol: TCP
          port: 80
          targetPort: 80
    options: {}
  text-analyzer-service-type-fd3ea4e4-c9b1-44e3-b0c5-ea142cfd248b:
    name: text-analyzer-service-type-fd3ea4e4-c9b1-44e3-b0c5-ea142cfd248b
    type: kubernetes:core/v1:Service
    properties:
      apiVersion: v1
      kind: Service
      metadata:
        name: text-analyzer-service-type
        labels:
          type: text-analyzer-service-type
      spec:
        selector:
          type: text-analyzer-type
        ports:
        - protocol: TCP
          port: 80
          targetPort: 80
    options: {}
  header-analyzer-service-type-df2a44ff-eda1-4b9a-9c96-6b0db4c918a1:
    name: header-analyzer-service-type-df2a44ff-eda1-4b9a-9c96-6b0db4c918a1
    type: kubernetes:core/v1:Service
    properties:
      apiVersion: v1
      kind: Service
      metadata:
        name: header-analyzer-service-type
        labels:
          type: header-analyzer-service-type
      spec:
        selector:
          type: header-analyzer-type
        ports:
        - protocol: TCP
          port: 80
          targetPort: 80
    options: {}
  attachment-manager-type-0ee3f813-3693-40c9-a0df-4889417afb7a:
    name: attachment-manager-type-0ee3f813-3693-40c9-a0df-4889417afb7a
    type: kubernetes:core/v1:Pod
    properties:
      apiVersion: v1
      kind: Pod
      metadata:
        name: attachment-manager-type
        labels:
          type: attachment-manager-type
      spec:
        nodeName: k3d-k3s-default-agent-0
        containers:
        - name: attachment-manager
          image: giovaz94/mail-pipeline-general
          imagePullPolicy: IfNotPresent
          ports:
          - containerPort: 80
          resources:
            requests:
              cpu: 10m
              memory: 10M
          env:
          - name: MCL
            value: '231'
          - name: REDIS_HOST
            value: redis-service
          - name: SERVICE_NAME
            value: attachment-manager
          - name: PORT
            value: '80'
          - name: MAX_SIZE
            value: '800'
          - name: MAX_CONNECTIONS
            value: '70'
          - name: PIPELINE_COUNT
            value: '1'
          - name: PORT_IMAGE_ANALYZER_SERVICE
            value: image-analyzer-service-type-4f5dc8e1-7684-41b2-8841-95e2986e4e7c
    options:
      dependsOn:
      - ${image-analyzer-service-type-4f5dc8e1-7684-41b2-8841-95e2986e4e7c}
  attachment-manager-service-type-55cd64bb-15b9-4dd1-a99e-9b963388b9a5:
    name: attachment-manager-service-type-55cd64bb-15b9-4dd1-a99e-9b963388b9a5
    type: kubernetes:core/v1:Service
    properties:
      apiVersion: v1
      kind: Service
      metadata:
        name: attachment-manager-service-type
        labels:
          type: attachment-manager-service-type
      spec:
        selector:
          type: attachment-manager-type
        ports:
        - protocol: TCP
          port: 80
          targetPort: 80
    options: {}
  virus-scanner-type-6d781e2b-5477-4594-bcf3-dffc7b88ed4c:
    name: virus-scanner-type-6d781e2b-5477-4594-bcf3-dffc7b88ed4c
    type: kubernetes:core/v1:Pod
    properties:
      apiVersion: v1
      kind: Pod
      metadata:
        name: virus-scanner-type
        labels:
          type: virus-scanner-type
      spec:
        nodeName: k3d-k3s-default-agent-0
        containers:
        - name: virus-scanner
          image: giovaz94/mail-pipeline-general
          imagePullPolicy: IfNotPresent
          ports:
          - containerPort: 80
          resources:
            requests:
              cpu: 10m
              memory: 10M
          env:
          - name: MCL
            value: '120'
          - name: REDIS_HOST
            value: redis-service
          - name: SERVICE_NAME
            value: virus-scanner
          - name: PORT
            value: '80'
          - name: MAX_SIZE
            value: '800'
          - name: MAX_CONNECTIONS
            value: '70'
          - name: PIPELINE_COUNT
            value: '1'
          - name: PORT_ATTACHMENT_MANAGER_SERVICE
            value: attachment-manager-service-type-55cd64bb-15b9-4dd1-a99e-9b963388b9a5
    options:
      dependsOn:
      - ${attachment-manager-service-type-55cd64bb-15b9-4dd1-a99e-9b963388b9a5}
  virus-scanner-service-type-fdb731fc-d461-48e0-8b3e-1da5fb461015:
    name: virus-scanner-service-type-fdb731fc-d461-48e0-8b3e-1da5fb461015
    type: kubernetes:core/v1:Service
    properties:
      apiVersion: v1
      kind: Service
      metadata:
        name: virus-scanner-service-type
        labels:
          type: virus-scanner-service-type
      spec:
        selector:
          type: virus-scanner-type
        ports:
        - protocol: TCP
          port: 80
          targetPort: 80
    options: {}
  parser-type-5d827cec-d58b-4aa7-8dbc-3f84f840dc5a:
    name: parser-type-5d827cec-d58b-4aa7-8dbc-3f84f840dc5a
    type: kubernetes:core/v1:Pod
    properties:
      apiVersion: v1
      kind: Pod
      metadata:
        name: parser-type
        labels:
          type: parser-type
      spec:
        nodeName: k3d-k3s-default-agent-0
        containers:
        - name: parser
          image: giovaz94/mail-pipeline-general
          imagePullPolicy: IfNotPresent
          ports:
          - containerPort: 80
          resources:
            requests:
              cpu: 10m
              memory: 10M
          env:
          - name: MCL
            value: '110'
          - name: REDIS_HOST
            value: redis-service
          - name: SERVICE_NAME
            value: parser
          - name: PORT
            value: '80'
          - name: MAX_SIZE
            value: '800'
          - name: MAX_CONNECTIONS
            value: '70'
          - name: PIPELINE_COUNT
            value: '1'
          - name: PORT_VIRUS_SCANNER_SERVICE
            value: virus-scanner-service-type-fdb731fc-d461-48e0-8b3e-1da5fb461015
          - name: PORT_HEADER_ANALYZER_SERVICE
            value: header-analyzer-service-type-df2a44ff-eda1-4b9a-9c96-6b0db4c918a1
          - name: PORT_TEXT_ANALYZER_SERVICE
            value: text-analyzer-service-type-fd3ea4e4-c9b1-44e3-b0c5-ea142cfd248b
          - name: PORT_LINK_ANALYZER_SERVICE
            value: link-analyzer-service-type-29025d8b-3137-4927-a042-4b2a5cd391e5
    options:
      dependsOn:
      - ${virus-scanner-service-type-fdb731fc-d461-48e0-8b3e-1da5fb461015}
      - ${header-analyzer-service-type-df2a44ff-eda1-4b9a-9c96-6b0db4c918a1}
      - ${text-analyzer-service-type-fd3ea4e4-c9b1-44e3-b0c5-ea142cfd248b}
      - ${link-analyzer-service-type-29025d8b-3137-4927-a042-4b2a5cd391e5}
  parser-service-type-a51b8440-485f-484e-96fd-cb95dc67daa7:
    name: parser-service-type-a51b8440-485f-484e-96fd-cb95dc67daa7
    type: kubernetes:core/v1:Service
    properties:
      apiVersion: v1
      kind: Service
      metadata:
        name: parser-service-type
        labels:
          type: parser-service-type
      spec:
        selector:
          type: parser-type
        ports:
        - protocol: TCP
          port: 80
          targetPort: 80
    options: {}
